/* FlexSlider 2.2.2 */
!function(a){a.flexslider=function(b,c){var d=a(b);d.vars=a.extend({},a.flexslider.defaults,c);var j,e=d.vars.namespace,f=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,g=("ontouchstart"in window||f||window.DocumentTouch&&document instanceof DocumentTouch)&&d.vars.touch,h="click touchend MSPointerUp",i="",k="vertical"===d.vars.direction,l=d.vars.reverse,m=d.vars.itemWidth>0,n="fade"===d.vars.animation,o=""!==d.vars.asNavFor,p={},q=!0;a.data(b,"flexslider",d),p={init:function(){d.animating=!1,d.currentSlide=parseInt(d.vars.startAt?d.vars.startAt:0,10),isNaN(d.currentSlide)&&(d.currentSlide=0),d.animatingTo=d.currentSlide,d.atEnd=0===d.currentSlide||d.currentSlide===d.last,d.containerSelector=d.vars.selector.substr(0,d.vars.selector.search(" ")),d.slides=a(d.vars.selector,d),d.container=a(d.containerSelector,d),d.count=d.slides.length,d.syncExists=a(d.vars.sync).length>0,"slide"===d.vars.animation&&(d.vars.animation="swing"),d.prop=k?"top":"marginLeft",d.args={},d.manualPause=!1,d.stopped=!1,d.started=!1,d.startTimeout=null,d.transitions=!d.vars.video&&!n&&d.vars.useCSS&&function(){var a=document.createElement("div"),b=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var c in b)if(void 0!==a.style[b[c]])return d.pfx=b[c].replace("Perspective","").toLowerCase(),d.prop="-"+d.pfx+"-transform",!0;return!1}(),d.ensureAnimationEnd="",""!==d.vars.controlsContainer&&(d.controlsContainer=a(d.vars.controlsContainer).length>0&&a(d.vars.controlsContainer)),""!==d.vars.manualControls&&(d.manualControls=a(d.vars.manualControls).length>0&&a(d.vars.manualControls)),d.vars.randomize&&(d.slides.sort(function(){return Math.round(Math.random())-.5}),d.container.empty().append(d.slides)),d.doMath(),d.setup("init"),d.vars.controlNav&&p.controlNav.setup(),d.vars.directionNav&&p.directionNav.setup(),d.vars.keyboard&&(1===a(d.containerSelector).length||d.vars.multipleKeyboard)&&a(document).bind("keyup",function(a){var b=a.keyCode;if(!d.animating&&(39===b||37===b)){var c=39===b?d.getTarget("next"):37===b?d.getTarget("prev"):!1;d.flexAnimate(c,d.vars.pauseOnAction)}}),d.vars.mousewheel&&d.bind("mousewheel",function(a,b){a.preventDefault();var f=0>b?d.getTarget("next"):d.getTarget("prev");d.flexAnimate(f,d.vars.pauseOnAction)}),d.vars.pausePlay&&p.pausePlay.setup(),d.vars.slideshow&&d.vars.pauseInvisible&&p.pauseInvisible.init(),d.vars.slideshow&&(d.vars.pauseOnHover&&d.hover(function(){d.manualPlay||d.manualPause||d.pause()},function(){d.manualPause||d.manualPlay||d.stopped||d.play()}),d.vars.pauseInvisible&&p.pauseInvisible.isHidden()||(d.vars.initDelay>0?d.startTimeout=setTimeout(d.play,d.vars.initDelay):d.play())),o&&p.asNav.setup(),g&&d.vars.touch&&p.touch(),(!n||n&&d.vars.smoothHeight)&&a(window).bind("resize orientationchange focus",p.resize),d.find("img").attr("draggable","false"),setTimeout(function(){d.vars.start(d)},200)},asNav:{setup:function(){d.asNav=!0,d.animatingTo=Math.floor(d.currentSlide/d.move),d.currentItem=d.currentSlide,d.slides.removeClass(e+"active-slide").eq(d.currentItem).addClass(e+"active-slide"),f?(b._slider=d,d.slides.each(function(){var b=this;b._gesture=new MSGesture,b._gesture.target=b,b.addEventListener("MSPointerDown",function(a){a.preventDefault(),a.currentTarget._gesture&&a.currentTarget._gesture.addPointer(a.pointerId)},!1),b.addEventListener("MSGestureTap",function(b){b.preventDefault();var c=a(this),e=c.index();a(d.vars.asNavFor).data("flexslider").animating||c.hasClass("active")||(d.direction=d.currentItem<e?"next":"prev",d.flexAnimate(e,d.vars.pauseOnAction,!1,!0,!0))})})):d.slides.on(h,function(b){b.preventDefault();var c=a(this),f=c.index(),g=c.offset().left-a(d).scrollLeft();0>=g&&c.hasClass(e+"active-slide")?d.flexAnimate(d.getTarget("prev"),!0):a(d.vars.asNavFor).data("flexslider").animating||c.hasClass(e+"active-slide")||(d.direction=d.currentItem<f?"next":"prev",d.flexAnimate(f,d.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){d.manualControls?p.controlNav.setupManual():p.controlNav.setupPaging()},setupPaging:function(){var f,g,b="thumbnails"===d.vars.controlNav?"control-thumbs":"control-paging",c=1;if(d.controlNavScaffold=a('<ol class="'+e+"control-nav "+e+b+'"></ol>'),d.pagingCount>1)for(var j=0;j<d.pagingCount;j++){if(g=d.slides.eq(j),f="thumbnails"===d.vars.controlNav?'<img src="'+g.attr("data-thumb")+'"/>':"<a>"+c+"</a>","thumbnails"===d.vars.controlNav&&!0===d.vars.thumbCaptions){var k=g.attr("data-thumbcaption");""!=k&&void 0!=k&&(f+='<span class="'+e+'caption">'+k+"</span>")}d.controlNavScaffold.append("<li>"+f+"</li>"),c++}d.controlsContainer?a(d.controlsContainer).append(d.controlNavScaffold):d.append(d.controlNavScaffold),p.controlNav.set(),p.controlNav.active(),d.controlNavScaffold.delegate("a, img",h,function(b){if(b.preventDefault(),""===i||i===b.type){var c=a(this),f=d.controlNav.index(c);c.hasClass(e+"active")||(d.direction=f>d.currentSlide?"next":"prev",d.flexAnimate(f,d.vars.pauseOnAction))}""===i&&(i=b.type),p.setToClearWatchedEvent()})},setupManual:function(){d.controlNav=d.manualControls,p.controlNav.active(),d.controlNav.bind(h,function(b){if(b.preventDefault(),""===i||i===b.type){var c=a(this),f=d.controlNav.index(c);c.hasClass(e+"active")||(d.direction=f>d.currentSlide?"next":"prev",d.flexAnimate(f,d.vars.pauseOnAction))}""===i&&(i=b.type),p.setToClearWatchedEvent()})},set:function(){var b="thumbnails"===d.vars.controlNav?"img":"a";d.controlNav=a("."+e+"control-nav li "+b,d.controlsContainer?d.controlsContainer:d)},active:function(){d.controlNav.removeClass(e+"active").eq(d.animatingTo).addClass(e+"active")},update:function(b,c){d.pagingCount>1&&"add"===b?d.controlNavScaffold.append(a("<li><a>"+d.count+"</a></li>")):1===d.pagingCount?d.controlNavScaffold.find("li").remove():d.controlNav.eq(c).closest("li").remove(),p.controlNav.set(),d.pagingCount>1&&d.pagingCount!==d.controlNav.length?d.update(c,b):p.controlNav.active()}},directionNav:{setup:function(){var b=a('<ul class="'+e+'direction-nav"><li><a class="'+e+'prev" href="#">'+d.vars.prevText+'</a></li><li><a class="'+e+'next" href="#">'+d.vars.nextText+"</a></li></ul>");d.controlsContainer?(a(d.controlsContainer).append(b),d.directionNav=a("."+e+"direction-nav li a",d.controlsContainer)):(d.append(b),d.directionNav=a("."+e+"direction-nav li a",d)),p.directionNav.update(),d.directionNav.bind(h,function(b){b.preventDefault();var c;(""===i||i===b.type)&&(c=a(this).hasClass(e+"next")?d.getTarget("next"):d.getTarget("prev"),d.flexAnimate(c,d.vars.pauseOnAction)),""===i&&(i=b.type),p.setToClearWatchedEvent()})},update:function(){var a=e+"disabled";1===d.pagingCount?d.directionNav.addClass(a).attr("tabindex","-1"):d.vars.animationLoop?d.directionNav.removeClass(a).removeAttr("tabindex"):0===d.animatingTo?d.directionNav.removeClass(a).filter("."+e+"prev").addClass(a).attr("tabindex","-1"):d.animatingTo===d.last?d.directionNav.removeClass(a).filter("."+e+"next").addClass(a).attr("tabindex","-1"):d.directionNav.removeClass(a).removeAttr("tabindex")}},pausePlay:{setup:function(){var b=a('<div class="'+e+'pauseplay"><a></a></div>');d.controlsContainer?(d.controlsContainer.append(b),d.pausePlay=a("."+e+"pauseplay a",d.controlsContainer)):(d.append(b),d.pausePlay=a("."+e+"pauseplay a",d)),p.pausePlay.update(d.vars.slideshow?e+"pause":e+"play"),d.pausePlay.bind(h,function(b){b.preventDefault(),(""===i||i===b.type)&&(a(this).hasClass(e+"pause")?(d.manualPause=!0,d.manualPlay=!1,d.pause()):(d.manualPause=!1,d.manualPlay=!0,d.play())),""===i&&(i=b.type),p.setToClearWatchedEvent()})},update:function(a){"play"===a?d.pausePlay.removeClass(e+"pause").addClass(e+"play").html(d.vars.playText):d.pausePlay.removeClass(e+"play").addClass(e+"pause").html(d.vars.pauseText)}},touch:function(){function r(f){d.animating?f.preventDefault():(window.navigator.msPointerEnabled||1===f.touches.length)&&(d.pause(),g=k?d.h:d.w,i=Number(new Date),o=f.touches[0].pageX,p=f.touches[0].pageY,e=m&&l&&d.animatingTo===d.last?0:m&&l?d.limit-(d.itemW+d.vars.itemMargin)*d.move*d.animatingTo:m&&d.currentSlide===d.last?d.limit:m?(d.itemW+d.vars.itemMargin)*d.move*d.currentSlide:l?(d.last-d.currentSlide+d.cloneOffset)*g:(d.currentSlide+d.cloneOffset)*g,a=k?p:o,c=k?o:p,b.addEventListener("touchmove",s,!1),b.addEventListener("touchend",t,!1))}function s(b){o=b.touches[0].pageX,p=b.touches[0].pageY,h=k?a-p:a-o,j=k?Math.abs(h)<Math.abs(o-c):Math.abs(h)<Math.abs(p-c);var f=500;(!j||Number(new Date)-i>f)&&(b.preventDefault(),!n&&d.transitions&&(d.vars.animationLoop||(h/=0===d.currentSlide&&0>h||d.currentSlide===d.last&&h>0?Math.abs(h)/g+2:1),d.setProps(e+h,"setTouch")))}function t(){if(b.removeEventListener("touchmove",s,!1),d.animatingTo===d.currentSlide&&!j&&null!==h){var k=l?-h:h,m=k>0?d.getTarget("next"):d.getTarget("prev");d.canAdvance(m)&&(Number(new Date)-i<550&&Math.abs(k)>50||Math.abs(k)>g/2)?d.flexAnimate(m,d.vars.pauseOnAction):n||d.flexAnimate(d.currentSlide,d.vars.pauseOnAction,!0)}b.removeEventListener("touchend",t,!1),a=null,c=null,h=null,e=null}function u(a){a.stopPropagation(),d.animating?a.preventDefault():(d.pause(),b._gesture.addPointer(a.pointerId),q=0,g=k?d.h:d.w,i=Number(new Date),e=m&&l&&d.animatingTo===d.last?0:m&&l?d.limit-(d.itemW+d.vars.itemMargin)*d.move*d.animatingTo:m&&d.currentSlide===d.last?d.limit:m?(d.itemW+d.vars.itemMargin)*d.move*d.currentSlide:l?(d.last-d.currentSlide+d.cloneOffset)*g:(d.currentSlide+d.cloneOffset)*g)}function v(a){a.stopPropagation();var c=a.target._slider;if(c){var d=-a.translationX,f=-a.translationY;return q+=k?f:d,h=q,j=k?Math.abs(q)<Math.abs(-d):Math.abs(q)<Math.abs(-f),a.detail===a.MSGESTURE_FLAG_INERTIA?(setImmediate(function(){b._gesture.stop()}),void 0):((!j||Number(new Date)-i>500)&&(a.preventDefault(),!n&&c.transitions&&(c.vars.animationLoop||(h=q/(0===c.currentSlide&&0>q||c.currentSlide===c.last&&q>0?Math.abs(q)/g+2:1)),c.setProps(e+h,"setTouch"))),void 0)}}function w(b){b.stopPropagation();var d=b.target._slider;if(d){if(d.animatingTo===d.currentSlide&&!j&&null!==h){var f=l?-h:h,k=f>0?d.getTarget("next"):d.getTarget("prev");d.canAdvance(k)&&(Number(new Date)-i<550&&Math.abs(f)>50||Math.abs(f)>g/2)?d.flexAnimate(k,d.vars.pauseOnAction):n||d.flexAnimate(d.currentSlide,d.vars.pauseOnAction,!0)}a=null,c=null,h=null,e=null,q=0}}var a,c,e,g,h,i,j=!1,o=0,p=0,q=0;f?(b.style.msTouchAction="none",b._gesture=new MSGesture,b._gesture.target=b,b.addEventListener("MSPointerDown",u,!1),b._slider=d,b.addEventListener("MSGestureChange",v,!1),b.addEventListener("MSGestureEnd",w,!1)):b.addEventListener("touchstart",r,!1)},resize:function(){!d.animating&&d.is(":visible")&&(m||d.doMath(),n?p.smoothHeight():m?(d.slides.width(d.computedW),d.update(d.pagingCount),d.setProps()):k?(d.viewport.height(d.h),d.setProps(d.h,"setTotal")):(d.vars.smoothHeight&&p.smoothHeight(),d.newSlides.width(d.computedW),d.setProps(d.computedW,"setTotal")))},smoothHeight:function(a){if(!k||n){var b=n?d:d.viewport;a?b.animate({height:d.slides.eq(d.animatingTo).height()},a):b.height(d.slides.eq(d.animatingTo).height())}},sync:function(b){var c=a(d.vars.sync).data("flexslider"),e=d.animatingTo;switch(b){case"animate":c.flexAnimate(e,d.vars.pauseOnAction,!1,!0);break;case"play":c.playing||c.asNav||c.play();break;case"pause":c.pause()}},uniqueID:function(b){return b.find("[id]").each(function(){var b=a(this);b.attr("id",b.attr("id")+"_clone")}),b},pauseInvisible:{visProp:null,init:function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)a[b]+"Hidden"in document&&(p.pauseInvisible.visProp=a[b]+"Hidden");if(p.pauseInvisible.visProp){var c=p.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(c,function(){p.pauseInvisible.isHidden()?d.startTimeout?clearTimeout(d.startTimeout):d.pause():d.started?d.play():d.vars.initDelay>0?setTimeout(d.play,d.vars.initDelay):d.play()})}},isHidden:function(){return document[p.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(j),j=setTimeout(function(){i=""},3e3)}},d.flexAnimate=function(b,c,f,h,i){if(d.vars.animationLoop||b===d.currentSlide||(d.direction=b>d.currentSlide?"next":"prev"),o&&1===d.pagingCount&&(d.direction=d.currentItem<b?"next":"prev"),!d.animating&&(d.canAdvance(b,i)||f)&&d.is(":visible")){if(o&&h){var j=a(d.vars.asNavFor).data("flexslider");if(d.atEnd=0===b||b===d.count-1,j.flexAnimate(b,!0,!1,!0,i),d.direction=d.currentItem<b?"next":"prev",j.direction=d.direction,Math.ceil((b+1)/d.visible)-1===d.currentSlide||0===b)return d.currentItem=b,d.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide"),!1;d.currentItem=b,d.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide"),b=Math.floor(b/d.visible)}if(d.animating=!0,d.animatingTo=b,c&&d.pause(),d.vars.before(d),d.syncExists&&!i&&p.sync("animate"),d.vars.controlNav&&p.controlNav.active(),m||d.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide"),d.atEnd=0===b||b===d.last,d.vars.directionNav&&p.directionNav.update(),b===d.last&&(d.vars.end(d),d.vars.animationLoop||d.pause()),n)g?(d.slides.eq(d.currentSlide).css({opacity:0,zIndex:1}),d.slides.eq(b).css({opacity:1,zIndex:2}),d.wrapup(q)):(d.slides.eq(d.currentSlide).css({zIndex:1}).animate({opacity:0},d.vars.animationSpeed,d.vars.easing),d.slides.eq(b).css({zIndex:2}).animate({opacity:1},d.vars.animationSpeed,d.vars.easing,d.wrapup));else{var r,s,t,q=k?d.slides.filter(":first").height():d.computedW;m?(r=d.vars.itemMargin,t=(d.itemW+r)*d.move*d.animatingTo,s=t>d.limit&&1!==d.visible?d.limit:t):s=0===d.currentSlide&&b===d.count-1&&d.vars.animationLoop&&"next"!==d.direction?l?(d.count+d.cloneOffset)*q:0:d.currentSlide===d.last&&0===b&&d.vars.animationLoop&&"prev"!==d.direction?l?0:(d.count+1)*q:l?(d.count-1-b+d.cloneOffset)*q:(b+d.cloneOffset)*q,d.setProps(s,"",d.vars.animationSpeed),d.transitions?(d.vars.animationLoop&&d.atEnd||(d.animating=!1,d.currentSlide=d.animatingTo),d.container.unbind("webkitTransitionEnd transitionend"),d.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(d.ensureAnimationEnd),d.wrapup(q)}),clearTimeout(d.ensureAnimationEnd),d.ensureAnimationEnd=setTimeout(function(){d.wrapup(q)},d.vars.animationSpeed+100)):d.container.animate(d.args,d.vars.animationSpeed,d.vars.easing,function(){d.wrapup(q)})}d.vars.smoothHeight&&p.smoothHeight(d.vars.animationSpeed)}},d.wrapup=function(a){n||m||(0===d.currentSlide&&d.animatingTo===d.last&&d.vars.animationLoop?d.setProps(a,"jumpEnd"):d.currentSlide===d.last&&0===d.animatingTo&&d.vars.animationLoop&&d.setProps(a,"jumpStart")),d.animating=!1,d.currentSlide=d.animatingTo,d.vars.after(d)},d.animateSlides=function(){!d.animating&&q&&d.flexAnimate(d.getTarget("next"))},d.pause=function(){clearInterval(d.animatedSlides),d.animatedSlides=null,d.playing=!1,d.vars.pausePlay&&p.pausePlay.update("play"),d.syncExists&&p.sync("pause")},d.play=function(){d.playing&&clearInterval(d.animatedSlides),d.animatedSlides=d.animatedSlides||setInterval(d.animateSlides,d.vars.slideshowSpeed),d.started=d.playing=!0,d.vars.pausePlay&&p.pausePlay.update("pause"),d.syncExists&&p.sync("play")},d.stop=function(){d.pause(),d.stopped=!0},d.canAdvance=function(a,b){var c=o?d.pagingCount-1:d.last;return b?!0:o&&d.currentItem===d.count-1&&0===a&&"prev"===d.direction?!0:o&&0===d.currentItem&&a===d.pagingCount-1&&"next"!==d.direction?!1:a!==d.currentSlide||o?d.vars.animationLoop?!0:d.atEnd&&0===d.currentSlide&&a===c&&"next"!==d.direction?!1:d.atEnd&&d.currentSlide===c&&0===a&&"next"===d.direction?!1:!0:!1},d.getTarget=function(a){return d.direction=a,"next"===a?d.currentSlide===d.last?0:d.currentSlide+1:0===d.currentSlide?d.last:d.currentSlide-1},d.setProps=function(a,b,c){var e=function(){var c=a?a:(d.itemW+d.vars.itemMargin)*d.move*d.animatingTo,e=function(){if(m)return"setTouch"===b?a:l&&d.animatingTo===d.last?0:l?d.limit-(d.itemW+d.vars.itemMargin)*d.move*d.animatingTo:d.animatingTo===d.last?d.limit:c;switch(b){case"setTotal":return l?(d.count-1-d.currentSlide+d.cloneOffset)*a:(d.currentSlide+d.cloneOffset)*a;case"setTouch":return l?a:a;case"jumpEnd":return l?a:d.count*a;case"jumpStart":return l?d.count*a:a;default:return a}}();return-1*e+"px"}();d.transitions&&(e=k?"translate3d(0,"+e+",0)":"translate3d("+e+",0,0)",c=void 0!==c?c/1e3+"s":"0s",d.container.css("-"+d.pfx+"-transition-duration",c),d.container.css("transition-duration",c)),d.args[d.prop]=e,(d.transitions||void 0===c)&&d.container.css(d.args),d.container.css("transform",e)},d.setup=function(b){if(n)d.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===b&&(g?d.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+d.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(d.currentSlide).css({opacity:1,zIndex:2}):d.slides.css({opacity:0,display:"block",zIndex:1}).eq(d.currentSlide).css({zIndex:2}).animate({opacity:1},d.vars.animationSpeed,d.vars.easing)),d.vars.smoothHeight&&p.smoothHeight();else{var c,f;"init"===b&&(d.viewport=a('<div class="'+e+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(d).append(d.container),d.cloneCount=0,d.cloneOffset=0,l&&(f=a.makeArray(d.slides).reverse(),d.slides=a(f),d.container.empty().append(d.slides))),d.vars.animationLoop&&!m&&(d.cloneCount=2,d.cloneOffset=1,"init"!==b&&d.container.find(".clone").remove(),p.uniqueID(d.slides.first().clone().addClass("clone").attr("aria-hidden","true")).appendTo(d.container),p.uniqueID(d.slides.last().clone().addClass("clone").attr("aria-hidden","true")).prependTo(d.container)),d.newSlides=a(d.vars.selector,d),c=l?d.count-1-d.currentSlide+d.cloneOffset:d.currentSlide+d.cloneOffset,k&&!m?(d.container.height(200*(d.count+d.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){d.newSlides.css({display:"block"}),d.doMath(),d.viewport.height(d.h),d.setProps(c*d.h,"init")},"init"===b?100:0)):(d.container.width(200*(d.count+d.cloneCount)+"%"),d.setProps(c*d.computedW,"init"),setTimeout(function(){d.doMath(),d.newSlides.css({width:d.computedW,"float":"left",display:"block"}),d.vars.smoothHeight&&p.smoothHeight()},"init"===b?100:0))}m||d.slides.removeClass(e+"active-slide").eq(d.currentSlide).addClass(e+"active-slide"),d.vars.init(d)},d.doMath=function(){var a=d.slides.first(),b=d.vars.itemMargin,c=d.vars.minItems,e=d.vars.maxItems;d.w=void 0===d.viewport?d.width():d.viewport.width(),d.h=a.height(),d.boxPadding=a.outerWidth()-a.width(),m?(d.itemT=d.vars.itemWidth+b,d.minW=c?c*d.itemT:d.w,d.maxW=e?e*d.itemT-b:d.w,d.itemW=d.minW>d.w?(d.w-b*(c-1))/c:d.maxW<d.w?(d.w-b*(e-1))/e:d.vars.itemWidth>d.w?d.w:d.vars.itemWidth,d.visible=Math.floor(d.w/d.itemW),d.move=d.vars.move>0&&d.vars.move<d.visible?d.vars.move:d.visible,d.pagingCount=Math.ceil((d.count-d.visible)/d.move+1),d.last=d.pagingCount-1,d.limit=1===d.pagingCount?0:d.vars.itemWidth>d.w?d.itemW*(d.count-1)+b*(d.count-1):(d.itemW+b)*d.count-d.w-b):(d.itemW=d.w,d.pagingCount=d.count,d.last=d.count-1),d.computedW=d.itemW-d.boxPadding},d.update=function(a,b){d.doMath(),m||(a<d.currentSlide?d.currentSlide+=1:a<=d.currentSlide&&0!==a&&(d.currentSlide-=1),d.animatingTo=d.currentSlide),d.vars.controlNav&&!d.manualControls&&("add"===b&&!m||d.pagingCount>d.controlNav.length?p.controlNav.update("add"):("remove"===b&&!m||d.pagingCount<d.controlNav.length)&&(m&&d.currentSlide>d.last&&(d.currentSlide-=1,d.animatingTo-=1),p.controlNav.update("remove",d.last))),d.vars.directionNav&&p.directionNav.update()},d.addSlide=function(b,c){var e=a(b);d.count+=1,d.last=d.count-1,k&&l?void 0!==c?d.slides.eq(d.count-c).after(e):d.container.prepend(e):void 0!==c?d.slides.eq(c).before(e):d.container.append(e),d.update(c,"add"),d.slides=a(d.vars.selector+":not(.clone)",d),d.setup(),d.vars.added(d)},d.removeSlide=function(b){var c=isNaN(b)?d.slides.index(a(b)):b;d.count-=1,d.last=d.count-1,isNaN(b)?a(b,d.slides).remove():k&&l?d.slides.eq(d.last).remove():d.slides.eq(b).remove(),d.doMath(),d.update(c,"remove"),d.slides=a(d.vars.selector+":not(.clone)",d),d.setup(),d.vars.removed(d)},p.init()},a(window).blur(function(){focused=!1}).focus(function(){focused=!0}),a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},a.fn.flexslider=function(b){if(void 0===b&&(b={}),"object"==typeof b)return this.each(function(){var c=a(this),d=b.selector?b.selector:".slides > li",e=c.find(d);1===e.length&&b.allowOneSlide===!0||0===e.length?(e.fadeIn(400),b.start&&b.start(c)):void 0===c.data("flexslider")&&new a.flexslider(this,b)});var c=a(this).data("flexslider");switch(b){case"play":c.play();break;case"pause":c.pause();break;case"stop":c.stop();break;case"next":c.flexAnimate(c.getTarget("next"),!0);break;case"prev":case"previous":c.flexAnimate(c.getTarget("prev"),!0);break;default:"number"==typeof b&&c.flexAnimate(b,!0)}}}(jQuery);


/* Selectbox 0.2 */
(function($,undefined){var PROP_NAME="selectbox",FALSE=false,TRUE=true;function Selectbox(){this._state=[];this._defaults={classHolder:"sbHolder",classHolderDisabled:"sbHolderDisabled",classSelector:"sbSelector",classOptions:"sbOptions",classGroup:"sbGroup",classSub:"sbSub",classDisabled:"sbDisabled",classToggleOpen:"sbToggleOpen",classToggle:"sbToggle",classFocus:"sbFocus",speed:200,effect:"slide",onChange:null,onOpen:null,onClose:null}}$.extend(Selectbox.prototype,{_isOpenSelectbox:function(target){if(!target){return FALSE}var inst=this._getInst(target);return inst.isOpen},_isDisabledSelectbox:function(target){if(!target){return FALSE}var inst=this._getInst(target);return inst.isDisabled},_attachSelectbox:function(target,settings){if(this._getInst(target)){return FALSE}var $target=$(target),self=this,inst=self._newInst($target),sbHolder,sbSelector,sbToggle,sbOptions,s=FALSE,optGroup=$target.find("optgroup"),opts=$target.find("option"),olen=opts.length;$target.attr("sb",inst.uid);$.extend(inst.settings,self._defaults,settings);self._state[inst.uid]=FALSE;$target.hide();function closeOthers(){var key,sel,uid=this.attr("id").split("_")[1];for(key in self._state){if(key!==uid){if(self._state.hasOwnProperty(key)){sel=$("select[sb='"+key+"']")[0];if(sel){self._closeSelectbox(sel)}}}}}sbHolder=$("<div>",{id:"sbHolder_"+inst.uid,"class":inst.settings.classHolder,tabindex:$target.attr("tabindex")});sbSelector=$("<a>",{id:"sbSelector_"+inst.uid,href:"#","class":inst.settings.classSelector,click:function(e){e.preventDefault();closeOthers.apply($(this),[]);var uid=$(this).attr("id").split("_")[1];if(self._state[uid]){self._closeSelectbox(target)}else{self._openSelectbox(target)}}});sbToggle=$("<a>",{id:"sbToggle_"+inst.uid,href:"#","class":inst.settings.classToggle,click:function(e){e.preventDefault();closeOthers.apply($(this),[]);var uid=$(this).attr("id").split("_")[1];if(self._state[uid]){self._closeSelectbox(target)}else{self._openSelectbox(target)}}});sbToggle.appendTo(sbHolder);sbOptions=$("<ul>",{id:"sbOptions_"+inst.uid,"class":inst.settings.classOptions,css:{display:"none"}});$target.children().each(function(i){var that=$(this),li,config={};if(that.is("option")){getOptions(that)}else{if(that.is("optgroup")){li=$("<li>");$("<span>",{text:that.attr("label")}).addClass(inst.settings.classGroup).appendTo(li);li.appendTo(sbOptions);if(that.is(":disabled")){config.disabled=true}config.sub=true;getOptions(that.find("option"),config)}}});function getOptions(){var sub=arguments[1]&&arguments[1].sub?true:false,disabled=arguments[1]&&arguments[1].disabled?true:false;arguments[0].each(function(i){var that=$(this),li=$("<li>"),child;if(that.is(":selected")){sbSelector.text(that.text());s=TRUE}if(i===olen-1){li.addClass("last")}if(!that.is(":disabled")&&!disabled){child=$("<a>",{href:"#"+that.val(),rel:that.val()}).text(that.text()).bind("click.sb",function(e){if(e&&e.preventDefault){e.preventDefault()}var t=sbToggle,$this=$(this),uid=t.attr("id").split("_")[1];self._changeSelectbox(target,$this.attr("rel"),$this.text());self._closeSelectbox(target)}).bind("mouseover.sb",function(){var $this=$(this);$this.parent().siblings().find("a").removeClass(inst.settings.classFocus);$this.addClass(inst.settings.classFocus)}).bind("mouseout.sb",function(){$(this).removeClass(inst.settings.classFocus)});if(sub){child.addClass(inst.settings.classSub)}if(that.is(":selected")){child.addClass(inst.settings.classFocus)}child.appendTo(li)}else{child=$("<span>",{text:that.text()}).addClass(inst.settings.classDisabled);if(sub){child.addClass(inst.settings.classSub)}child.appendTo(li)}li.appendTo(sbOptions)})}if(!s){sbSelector.text(opts.first().text())}$.data(target,PROP_NAME,inst);sbHolder.data("uid",inst.uid).bind("keydown.sb",function(e){var key=e.charCode?e.charCode:e.keyCode?e.keyCode:0,$this=$(this),uid=$this.data("uid"),inst=$this.siblings("select[sb='"+uid+"']").data(PROP_NAME),trgt=$this.siblings(["select[sb='",uid,"']"].join("")).get(0),$f=$this.find("ul").find("a."+inst.settings.classFocus);switch(key){case 37:case 38:if($f.length>0){var $next;$("a",$this).removeClass(inst.settings.classFocus);$next=$f.parent().prevAll("li:has(a)").eq(0).find("a");if($next.length>0){$next.addClass(inst.settings.classFocus).focus();$("#sbSelector_"+uid).text($next.text())}}break;case 39:case 40:var $next;$("a",$this).removeClass(inst.settings.classFocus);if($f.length>0){$next=$f.parent().nextAll("li:has(a)").eq(0).find("a")}else{$next=$this.find("ul").find("a").eq(0)}if($next.length>0){$next.addClass(inst.settings.classFocus).focus();$("#sbSelector_"+uid).text($next.text())}break;case 13:if($f.length>0){self._changeSelectbox(trgt,$f.attr("rel"),$f.text())}self._closeSelectbox(trgt);break;case 9:if(trgt){var inst=self._getInst(trgt);if(inst){if($f.length>0){self._changeSelectbox(trgt,$f.attr("rel"),$f.text())}self._closeSelectbox(trgt)}}var i=parseInt($this.attr("tabindex"),10);if(!e.shiftKey){i++}else{i--}$("*[tabindex='"+i+"']").focus();break;case 27:self._closeSelectbox(trgt);break}e.stopPropagation();return false}).delegate("a","mouseover",function(e){$(this).addClass(inst.settings.classFocus)}).delegate("a","mouseout",function(e){$(this).removeClass(inst.settings.classFocus)});sbSelector.appendTo(sbHolder);sbOptions.appendTo(sbHolder);sbHolder.insertAfter($target);$("html").live("mousedown",function(e){e.stopPropagation();$("select").selectbox("close")});$([".",inst.settings.classHolder,", .",inst.settings.classSelector].join("")).mousedown(function(e){e.stopPropagation()})},_detachSelectbox:function(target){var inst=this._getInst(target);if(!inst){return FALSE}$("#sbHolder_"+inst.uid).remove();$.data(target,PROP_NAME,null);$(target).show()},_changeSelectbox:function(target,value,text){var onChange,inst=this._getInst(target);if(inst){onChange=this._get(inst,"onChange");$("#sbSelector_"+inst.uid).text(text)}value=value.replace(/\'/g,"\\'");$(target).find("option[value='"+value+"']").attr("selected",TRUE);if(inst&&onChange){onChange.apply((inst.input?inst.input[0]:null),[value,inst])}else{if(inst&&inst.input){inst.input.trigger("change")}}},_enableSelectbox:function(target){var inst=this._getInst(target);if(!inst||!inst.isDisabled){return FALSE}$("#sbHolder_"+inst.uid).removeClass(inst.settings.classHolderDisabled);inst.isDisabled=FALSE;$.data(target,PROP_NAME,inst)},_disableSelectbox:function(target){var inst=this._getInst(target);if(!inst||inst.isDisabled){return FALSE}$("#sbHolder_"+inst.uid).addClass(inst.settings.classHolderDisabled);inst.isDisabled=TRUE;$.data(target,PROP_NAME,inst)},_optionSelectbox:function(target,name,value){var inst=this._getInst(target);if(!inst){return FALSE}inst[name]=value;$.data(target,PROP_NAME,inst)},_openSelectbox:function(target){var inst=this._getInst(target);if(!inst||inst.isOpen||inst.isDisabled){return }var el=$("#sbOptions_"+inst.uid),viewportHeight=parseInt($(window).height(),10),offset=$("#sbHolder_"+inst.uid).offset(),scrollTop=$(window).scrollTop(),height=el.prev().height(),diff=viewportHeight-(offset.top-scrollTop)-height/2,onOpen=this._get(inst,"onOpen");el.css({top:height+"px",maxHeight:(diff-height)+"px"});inst.settings.effect==="fade"?el.fadeIn(inst.settings.speed):el.slideDown(inst.settings.speed);$("#sbToggle_"+inst.uid).addClass(inst.settings.classToggleOpen);this._state[inst.uid]=TRUE;inst.isOpen=TRUE;if(onOpen){onOpen.apply((inst.input?inst.input[0]:null),[inst])}$.data(target,PROP_NAME,inst)},_closeSelectbox:function(target){var inst=this._getInst(target);if(!inst||!inst.isOpen){return }var onClose=this._get(inst,"onClose");inst.settings.effect==="fade"?$("#sbOptions_"+inst.uid).fadeOut(inst.settings.speed):$("#sbOptions_"+inst.uid).slideUp(inst.settings.speed);$("#sbToggle_"+inst.uid).removeClass(inst.settings.classToggleOpen);this._state[inst.uid]=FALSE;inst.isOpen=FALSE;if(onClose){onClose.apply((inst.input?inst.input[0]:null),[inst])}$.data(target,PROP_NAME,inst)},_newInst:function(target){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:id,input:target,uid:Math.floor(Math.random()*99999999),isOpen:FALSE,isDisabled:FALSE,settings:{}}},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this selectbox"}},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]}});$.fn.selectbox=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&options=="isDisabled"){return $.selectbox["_"+options+"Selectbox"].apply($.selectbox,[this[0]].concat(otherArgs))}if(options=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.selectbox["_"+options+"Selectbox"].apply($.selectbox,[this[0]].concat(otherArgs))}return this.each(function(){typeof options=="string"?$.selectbox["_"+options+"Selectbox"].apply($.selectbox,[this].concat(otherArgs)):$.selectbox._attachSelectbox(this,options)})};$.selectbox=new Selectbox();$.selectbox.version="0.2"})(jQuery);


/* fancyBox 2.1.5 */
(function(e,t,n,r){var i=n("html"),s=n(e),o=n(t),u=n.fancybox=function(){u.open.apply(this,arguments)},a=navigator.userAgent.match(/msie/i),f=null,l=t.createTouch!==r,c=function(e){return e&&e.hasOwnProperty&&e instanceof n},h=function(e){return e&&"string"===n.type(e)},p=function(e){return h(e)&&0<e.indexOf("%")},d=function(e,t){var n=parseInt(e,10)||0;t&&p(e)&&(n*=u.getViewport()[t]/100);return Math.ceil(n)},v=function(e,t){return d(e,t)+"px"};n.extend(u,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!l,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(a?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){if(e&&(n.isPlainObject(t)||(t={}),!1!==u.close(!0)))return n.isArray(e)||(e=c(e)?n(e).get():[e]),n.each(e,function(i,s){var o={},a,f,l,p,d;"object"===n.type(s)&&(s.nodeType&&(s=n(s)),c(s)?(o={href:s.data("fancybox-href")||s.attr("href"),title:n("<div/>").text(s.data("fancybox-title")||s.attr("title")).html(),isDom:!0,element:s},n.metadata&&n.extend(!0,o,s.metadata())):o=s);a=t.href||o.href||(h(s)?s:null);f=t.title!==r?t.title:o.title||"";p=(l=t.content||o.content)?"html":t.type||o.type;!p&&o.isDom&&(p=s.data("fancybox-type"),p||(p=(p=s.prop("class").match(/fancybox\.(\w+)/))?p[1]:null));h(a)&&(p||(u.isImage(a)?p="image":u.isSWF(a)?p="swf":"#"===a.charAt(0)?p="inline":h(s)&&(p="html",l=s)),"ajax"===p&&(d=a.split(/\s+/,2),a=d.shift(),d=d.shift()));l||("inline"===p?a?l=n(h(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):o.isDom&&(l=s):"html"===p?l=a:p||a||!o.isDom||(p="inline",l=s));n.extend(o,{href:a,type:p,content:l,title:f,selector:d});e[i]=o}),u.opts=n.extend(!0,{},u.defaults,t),t.keys!==r&&(u.opts.keys=t.keys?n.extend({},u.defaults.keys,t.keys):!1),u.group=e,u._start(u.opts.index)},cancel:function(){var e=u.coming;e&&!1===u.trigger("onCancel")||(u.hideLoading(),e&&(u.ajaxLoad&&u.ajaxLoad.abort(),u.ajaxLoad=null,u.imgPreload&&(u.imgPreload.onload=u.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),u.coming=null,u.current||u._afterZoomOut(e)))},close:function(e){u.cancel();!1!==u.trigger("beforeClose")&&(u.unbindEvents(),u.isActive&&(u.isOpen&&!0!==e?(u.isOpen=u.isOpened=!1,u.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),u.wrap.stop(!0,!0).removeClass("fancybox-opened"),u.transitions[u.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),u._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(u.player.timer)},n=function(){t();u.current&&u.player.isActive&&(u.player.timer=setTimeout(u.next,u.current.playSpeed))},r=function(){t();o.unbind(".player");u.player.isActive=!1;u.trigger("onPlayEnd")};!0===e||!u.player.isActive&&!1!==e?u.current&&(u.current.loop||u.current.index<u.group.length-1)&&(u.player.isActive=!0,o.bind({"onCancel.player beforeClose.player":r,"onUpdate.player":n,"beforeLoad.player":t}),n(),u.trigger("onPlayStart")):r()},next:function(e){var t=u.current;t&&(h(e)||(e=t.direction.next),u.jumpto(t.index+1,e,"next"))},prev:function(e){var t=u.current;t&&(h(e)||(e=t.direction.prev),u.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,n){var i=u.current;i&&(e=d(e),u.direction=t||i.direction[e>=i.index?"next":"prev"],u.router=n||"jumpto",i.loop&&(0>e&&(e=i.group.length+e%i.group.length),e%=i.group.length),i.group[e]!==r&&(u.cancel(),u._start(e)))},reposition:function(e,t){var r=u.current,i=r?r.wrap:null,s;i&&(s=u._getPosition(t),e&&"scroll"===e.type?(delete s.position,i.stop(!0,!0).animate(s,200)):(i.css(s),r.pos=n.extend({},r.dim,s)))},update:function(e){var t=e&&e.originalEvent&&e.originalEvent.type,n=!t||"orientationchange"===t;n&&(clearTimeout(f),f=null);u.isOpen&&!f&&(f=setTimeout(function(){var r=u.current;r&&!u.isClosing&&(u.wrap.removeClass("fancybox-tmp"),(n||"load"===t||"resize"===t&&r.autoResize)&&u._setDimension(),"scroll"===t&&r.canShrink||u.reposition(e),u.trigger("onUpdate"),f=null)},n&&!l?0:300))},toggle:function(e){u.isOpen&&(u.current.fitToView="boolean"===n.type(e)?e:!u.current.fitToView,l&&(u.wrap.removeAttr("style").addClass("fancybox-tmp"),u.trigger("onUpdate")),u.update())},hideLoading:function(){o.unbind(".loading");n("#fancybox-loading").remove()},showLoading:function(){var e,t;u.hideLoading();e=n('<div id="fancybox-loading"><div></div></div>').click(u.cancel).appendTo("body");o.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),u.cancel())});u.defaults.fixed||(t=u.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}));u.trigger("onLoading")},getViewport:function(){var t=u.current&&u.current.locked||!1,n={x:s.scrollLeft(),y:s.scrollTop()};t&&t.length?(n.w=t[0].clientWidth,n.h=t[0].clientHeight):(n.w=l&&e.innerWidth?e.innerWidth:s.width(),n.h=l&&e.innerHeight?e.innerHeight:s.height());return n},unbindEvents:function(){u.wrap&&c(u.wrap)&&u.wrap.unbind(".fb");o.unbind(".fb");s.unbind(".fb")},bindEvents:function(){var e=u.current,t;e&&(s.bind("orientationchange.fb"+(l?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),u.update),(t=e.keys)&&o.bind("keydown.fb",function(i){var s=i.which||i.keyCode,o=i.target||i.srcElement;if(27===s&&u.coming)return!1;i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||o&&(o.type||n(o).is("[contenteditable]"))||n.each(t,function(t,o){if(1<e.group.length&&o[s]!==r)return u[t](o[s]),i.preventDefault(),!1;if(-1<n.inArray(s,o))return u[t](),i.preventDefault(),!1})}),n.fn.mousewheel&&e.mouseWheel&&u.wrap.bind("mousewheel.fb",function(t,r,i,s){for(var o=n(t.target||null),a=!1;o.length&&!(a||o.is(".fancybox-skin")||o.is(".fancybox-wrap"));)a=o[0]&&!(o[0].style.overflow&&"hidden"===o[0].style.overflow)&&(o[0].clientWidth&&o[0].scrollWidth>o[0].clientWidth||o[0].clientHeight&&o[0].scrollHeight>o[0].clientHeight),o=n(o).parent();0!==r&&!a&&1<u.group.length&&!e.canShrink&&(0<s||0<i?u.prev(0<s?"down":"left"):(0>s||0>i)&&u.next(0>s?"up":"right"),t.preventDefault())}))},trigger:function(e,t){var r,i=t||u.coming||u.current;if(i){n.isFunction(i[e])&&(r=i[e].apply(i,Array.prototype.slice.call(arguments,1)));if(!1===r)return!1;i.helpers&&n.each(i.helpers,function(t,r){if(r&&u.helpers[t]&&n.isFunction(u.helpers[t][e]))u.helpers[t][e](n.extend(!0,{},u.helpers[t].defaults,r),i)})}o.trigger(e)},isImage:function(e){return h(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return h(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t={},r,i;e=d(e);r=u.group[e]||null;if(!r)return!1;t=n.extend(!0,{},u.opts,r);r=t.margin;i=t.padding;"number"===n.type(r)&&(t.margin=[r,r,r,r]);"number"===n.type(i)&&(t.padding=[i,i,i,i]);t.modal&&n.extend(!0,t,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});t.autoSize&&(t.autoWidth=t.autoHeight=!0);"auto"===t.width&&(t.autoWidth=!0);"auto"===t.height&&(t.autoHeight=!0);t.group=u.group;t.index=e;u.coming=t;if(!1===u.trigger("beforeLoad"))u.coming=null;else{i=t.type;r=t.href;if(!i)return u.coming=null,u.current&&u.router&&"jumpto"!==u.router?(u.current.index=e,u[u.router](u.direction)):!1;u.isActive=!0;if("image"===i||"swf"===i)t.autoHeight=t.autoWidth=!1,t.scrolling="visible";"image"===i&&(t.aspectRatio=!0);"iframe"===i&&l&&(t.scrolling="scroll");t.wrap=n(t.tpl.wrap).addClass("fancybox-"+(l?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+t.wrapCSS).appendTo(t.parent||"body");n.extend(t,{skin:n(".fancybox-skin",t.wrap),outer:n(".fancybox-outer",t.wrap),inner:n(".fancybox-inner",t.wrap)});n.each(["Top","Right","Bottom","Left"],function(e,n){t.skin.css("padding"+n,v(t.padding[e]))});u.trigger("onReady");if("inline"===i||"html"===i){if(!t.content||!t.content.length)return u._error("content")}else if(!r)return u._error("href");"image"===i?u._loadImage():"ajax"===i?u._loadAjax():"iframe"===i?u._loadIframe():u._afterLoad()}},_error:function(e){n.extend(u.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:u.coming.tpl.error});u._afterLoad()},_loadImage:function(){var e=u.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null;u.coming.width=this.width/u.opts.pixelRatio;u.coming.height=this.height/u.opts.pixelRatio;u._afterLoad()};e.onerror=function(){this.onload=this.onerror=null;u._error("image")};e.src=u.coming.href;!0!==e.complete&&u.showLoading()},_loadAjax:function(){var e=u.coming;u.showLoading();u.ajaxLoad=n.ajax(n.extend({},e.ajax,{url:e.href,error:function(e,t){u.coming&&"abort"!==t?u._error("ajax",e):u.hideLoading()},success:function(t,n){"success"===n&&(e.content=t,u._afterLoad())}}))},_loadIframe:function(){var e=u.coming,t=n(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",l?"auto":e.iframe.scrolling).attr("src",e.href);n(e.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}});e.iframe.preload&&(u.showLoading(),t.one("load",function(){n(this).data("ready",1);l||n(this).bind("load.fb",u.update);n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();u._afterLoad()}));e.content=t.appendTo(e.inner);e.iframe.preload||u._afterLoad()},_preloadImages:function(){var e=u.group,t=u.current,n=e.length,r=t.preload?Math.min(t.preload,n-1):0,i,s;for(s=1;s<=r;s+=1)i=e[(t.index+s)%n],"image"===i.type&&i.href&&((new Image).src=i.href)},_afterLoad:function(){var e=u.coming,t=u.current,r,i,s,o,a;u.hideLoading();if(e&&!1!==u.isActive)if(!1===u.trigger("afterLoad",e,t))e.wrap.stop(!0).trigger("onReset").remove(),u.coming=null;else{t&&(u.trigger("beforeChange",t),t.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());u.unbindEvents();r=e.content;i=e.type;s=e.scrolling;n.extend(u,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:t});o=e.href;switch(i){case"inline":case"ajax":case"html":e.selector?r=n("<div>").html(r).find(e.selector):c(r)&&(r.data("fancybox-placeholder")||r.data("fancybox-placeholder",n('<div class="fancybox-placeholder"></div>').insertAfter(r).hide()),r=r.show().detach(),e.wrap.bind("onReset",function(){n(this).find(r).length&&r.hide().replaceAll(r.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":r=e.tpl.image.replace(/\{href\}/g,o);break;case"swf":r='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',a="",n.each(e.swf,function(e,t){r+='<param name="'+e+'" value="'+t+'"></param>';a+=" "+e+'="'+t+'"'}),r+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}c(r)&&r.parent().is(e.inner)||e.inner.append(r);u.trigger("beforeShow");e.inner.css("overflow","yes"===s?"scroll":"no"===s?"hidden":s);u._setDimension();u.reposition();u.isOpen=!1;u.coming=null;u.bindEvents();if(!u.isOpened)n(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove();else if(t.prevMethod)u.transitions[t.prevMethod]();u.transitions[u.isOpened?e.nextMethod:e.openMethod]();u._preloadImages()}},_setDimension:function(){var e=u.getViewport(),t=0,r=!1,i=!1,r=u.wrap,s=u.skin,o=u.inner,a=u.current,i=a.width,f=a.height,l=a.minWidth,c=a.minHeight,h=a.maxWidth,g=a.maxHeight,y=a.scrolling,w=a.scrollOutside?a.scrollbarWidth:0,E=a.margin,S=d(E[1]+E[3]),T=d(E[0]+E[2]),N,C,k,L,A,O,M,_,D;r.add(s).add(o).width("auto").height("auto").removeClass("fancybox-tmp");E=d(s.outerWidth(!0)-s.width());N=d(s.outerHeight(!0)-s.height());C=S+E;k=T+N;L=p(i)?(e.w-C)*d(i)/100:i;A=p(f)?(e.h-k)*d(f)/100:f;if("iframe"===a.type){if(D=a.content,a.autoHeight&&1===D.data("ready"))try{D[0].contentWindow.document.location&&(o.width(L).height(9999),O=D.contents().find("body"),w&&O.css("overflow-x","hidden"),A=O.outerHeight(!0))}catch(P){}}else if(a.autoWidth||a.autoHeight)o.addClass("fancybox-tmp"),a.autoWidth||o.width(L),a.autoHeight||o.height(A),a.autoWidth&&(L=o.width()),a.autoHeight&&(A=o.height()),o.removeClass("fancybox-tmp");i=d(L);f=d(A);_=L/A;l=d(p(l)?d(l,"w")-C:l);h=d(p(h)?d(h,"w")-C:h);c=d(p(c)?d(c,"h")-k:c);g=d(p(g)?d(g,"h")-k:g);O=h;M=g;a.fitToView&&(h=Math.min(e.w-C,h),g=Math.min(e.h-k,g));C=e.w-S;T=e.h-T;a.aspectRatio?(i>h&&(i=h,f=d(i/_)),f>g&&(f=g,i=d(f*_)),i<l&&(i=l,f=d(i/_)),f<c&&(f=c,i=d(f*_))):(i=Math.max(l,Math.min(i,h)),a.autoHeight&&"iframe"!==a.type&&(o.width(i),f=o.height()),f=Math.max(c,Math.min(f,g)));if(a.fitToView)if(o.width(i).height(f),r.width(i+E),e=r.width(),S=r.height(),a.aspectRatio)for(;(e>C||S>T)&&i>l&&f>c&&!(19<t++);)f=Math.max(c,Math.min(g,f-10)),i=d(f*_),i<l&&(i=l,f=d(i/_)),i>h&&(i=h,f=d(i/_)),o.width(i).height(f),r.width(i+E),e=r.width(),S=r.height();else i=Math.max(l,Math.min(i,i-(e-C))),f=Math.max(c,Math.min(f,f-(S-T)));w&&"auto"===y&&f<A&&i+E+w<C&&(i+=w);o.width(i).height(f);r.width(i+E);e=r.width();S=r.height();r=(e>C||S>T)&&i>l&&f>c;i=a.aspectRatio?i<O&&f<M&&i<L&&f<A:(i<O||f<M)&&(i<L||f<A);n.extend(a,{dim:{width:v(e),height:v(S)},origWidth:L,origHeight:A,canShrink:r,canExpand:i,wPadding:E,hPadding:N,wrapSpace:S-s.outerHeight(!0),skinSpace:s.height()-f});!D&&a.autoHeight&&f>c&&f<g&&!i&&o.height("auto")},_getPosition:function(e){var t=u.current,n=u.getViewport(),r=t.margin,i=u.wrap.width()+r[1]+r[3],s=u.wrap.height()+r[0]+r[2],r={position:"absolute",top:r[0],left:r[3]};t.autoCenter&&t.fixed&&!e&&s<=n.h&&i<=n.w?r.position="fixed":t.locked||(r.top+=n.y,r.left+=n.x);r.top=v(Math.max(r.top,r.top+(n.h-s)*t.topRatio));r.left=v(Math.max(r.left,r.left+(n.w-i)*t.leftRatio));return r},_afterZoomIn:function(){var e=u.current;e&&((u.isOpen=u.isOpened=!0,u.wrap.css("overflow","visible").addClass("fancybox-opened"),u.update(),(e.closeClick||e.nextClick&&1<u.group.length)&&u.inner.css("cursor","pointer").bind("click.fb",function(t){n(t.target).is("a")||n(t.target).parent().is("a")||(t.preventDefault(),u[e.closeClick?"close":"next"]())}),e.closeBtn&&n(e.tpl.closeBtn).appendTo(u.skin).bind("click.fb",function(e){e.preventDefault();u.close()}),e.arrows&&1<u.group.length&&((e.loop||0<e.index)&&n(e.tpl.prev).appendTo(u.outer).bind("click.fb",u.prev),(e.loop||e.index<u.group.length-1)&&n(e.tpl.next).appendTo(u.outer).bind("click.fb",u.next)),u.trigger("afterShow"),e.loop||e.index!==e.group.length-1)?u.opts.autoPlay&&!u.player.isActive&&(u.opts.autoPlay=!1,u.play(!0)):u.play(!1))},_afterZoomOut:function(e){e=e||u.current;n(".fancybox-wrap").trigger("onReset").remove();n.extend(u,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});u.trigger("afterClose",e)}});u.transitions={getOrigPosition:function(){var e=u.current,t=e.element,n=e.orig,r={},i=50,s=50,o=e.hPadding,a=e.wPadding,f=u.getViewport();!n&&e.isDom&&t.is(":visible")&&(n=t.find("img:first"),n.length||(n=t));c(n)?(r=n.offset(),n.is("img")&&(i=n.outerWidth(),s=n.outerHeight())):(r.top=f.y+(f.h-s)*e.topRatio,r.left=f.x+(f.w-i)*e.leftRatio);if("fixed"===u.wrap.css("position")||e.locked)r.top-=f.y,r.left-=f.x;return r={top:v(r.top-o*e.topRatio),left:v(r.left-a*e.leftRatio),width:v(i+a),height:v(s+o)}},step:function(e,t){var n,r,i=t.prop;r=u.current;var s=r.wrapSpace,o=r.skinSpace;if("width"===i||"height"===i)n=t.end===t.start?1:(e-t.start)/(t.end-t.start),u.isClosing&&(n=1-n),r="width"===i?r.wPadding:r.hPadding,r=e-r,u.skin[i](d("width"===i?r:r-s*n)),u.inner[i](d("width"===i?r:r-s*n-o*n))},zoomIn:function(){var e=u.current,t=e.pos,r=e.openEffect,i="elastic"===r,s=n.extend({opacity:1},t);delete s.position;i?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===r&&(t.opacity=.1);u.wrap.css(t).animate(s,{duration:"none"===r?0:e.openSpeed,easing:e.openEasing,step:i?this.step:null,complete:u._afterZoomIn})},zoomOut:function(){var e=u.current,t=e.closeEffect,n="elastic"===t,r={opacity:.1};n&&(r=this.getOrigPosition(),e.closeOpacity&&(r.opacity=.1));u.wrap.animate(r,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:u._afterZoomOut})},changeIn:function(){var e=u.current,t=e.nextEffect,n=e.pos,r={opacity:1},i=u.direction,s;n.opacity=.1;"elastic"===t&&(s="down"===i||"up"===i?"top":"left","down"===i||"right"===i?(n[s]=v(d(n[s])-200),r[s]="+=200px"):(n[s]=v(d(n[s])+200),r[s]="-=200px"));"none"===t?u._afterZoomIn():u.wrap.css(n).animate(r,{duration:e.nextSpeed,easing:e.nextEasing,complete:u._afterZoomIn})},changeOut:function(){var e=u.previous,t=e.prevEffect,r={opacity:.1},i=u.direction;"elastic"===t&&(r["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"=200px");e.wrap.animate(r,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}};u.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!l,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(e){var t;e=n.extend({},this.defaults,e);this.overlay&&this.close();t=u.coming?u.coming.parent:e.parent;this.overlay=n('<div class="fancybox-overlay"></div>').appendTo(t&&t.lenth?t:"body");this.fixed=!1;e.fixed&&u.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=n.extend({},this.defaults,e);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e);this.fixed||(s.bind("resize.overlay",n.proxy(this.update,this)),this.update());e.closeClick&&this.overlay.bind("click.overlay",function(e){if(n(e.target).hasClass("fancybox-overlay"))return u.isActive?u.close():t.close(),!1});this.overlay.css(e.css).show()},close:function(){s.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),s.scrollTop(this.scrollV).scrollLeft(this.scrollH));n(".fancybox-overlay").remove().hide();n.extend(this,{overlay:null,fixed:!1})},update:function(){var e="100%",n;this.overlay.width(e).height("100%");a?(n=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>n&&(e=o.width())):o.width()>s.width()&&(e=o.width());this.overlay.width(e).height(o.height())},onReady:function(e,t){var r=this.overlay;n(".fancybox-overlay").stop(!0,!0);r||this.create(e);e.locked&&this.fixed&&t.fixed&&(t.locked=this.overlay.append(t.wrap),t.fixed=!1);!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){t.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&n("*").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=s.scrollTop(),this.scrollH=s.scrollLeft(),this.el.addClass("fancybox-lock"),s.scrollTop(this.scrollV).scrollLeft(this.scrollH));this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!u.coming&&this.overlay.fadeOut(e.speedOut,n.proxy(this.close,this))}};u.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=u.current,r=t.title,i=e.type;n.isFunction(r)&&(r=r.call(t.element,t));if(h(r)&&""!==n.trim(r)){t=n('<div class="fancybox-title fancybox-title-'+i+'-wrap">'+r+"</div>");switch(i){case"inside":i=u.skin;break;case"outside":i=u.wrap;break;case"over":i=u.inner;break;default:i=u.skin,t.appendTo("body"),a&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),u.current.margin[2]+=Math.abs(d(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](i)}}};n.fn.fancybox=function(e){var t,r=n(this),i=this.selector||"",s=function(s){var o=n(this).blur(),a=t,f,l;s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||o.is(".fancybox-wrap")||(f=e.groupAttr||"data-fancybox-group",l=o.attr(f),l||(f="rel",l=o.get(0)[f]),l&&""!==l&&"nofollow"!==l&&(o=i.length?n(i):r,o=o.filter("["+f+'="'+l+'"]'),a=o.index(this)),e.index=a,!1!==u.open(o,e)&&s.preventDefault())};e=e||{};t=e.index||0;i&&!1!==e.live?o.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-item, .fancybox-nav')","click.fb-start",s):r.unbind("click.fb-start").bind("click.fb-start",s);this.filter("[data-fancybox-start=1]").trigger("click");return this};o.ready(function(){var t,s;n.scrollbarWidth===r&&(n.scrollbarWidth=function(){var e=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),t=t.innerWidth()-t.height(99).innerWidth();e.remove();return t});n.support.fixedPosition===r&&(n.support.fixedPosition=function(){var e=n('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;e.remove();return t}());n.extend(u.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")});t=n(e).width();i.addClass("fancybox-lock-test");s=n(e).width();i.removeClass("fancybox-lock-test");n("<style type='text/css'>.fancybox-margin{margin-right:"+(s-t)+"px;}</style>").appendTo("head")})})(window,document,jQuery);


/* Spritespin */
(function(e){"use strict";function s(e,t,n){e=String(e);while(e.length<t){e=String(n)+e}return e}function o(e,t,n){return e>n?n:e<t?t:e}function u(e,t,n,r){while(e>n){e-=r}while(e<t){e+=r}return e}function a(e){e.preventDefault();return false}function f(){if(window.console&&window.console.log){window.console.log.apply(window.console,arguments)}}function l(e,n,r){if(r){e.bind(n+"."+t,r)}}function c(e){e.unbind("."+t)}function h(e){var t=typeof e.source==="string"?[e.source]:e.source;var n,r=0,i,s=[],o=e.preloadCount||s.length;var u=false,a=false;var f=function(){r+=1;if(typeof e.progress==="function"){e.progress({index:s.indexOf(this),loaded:r,total:t.length,percent:Math.round(r/t.length*100)})}a=a||this===s[0];if(!u&&r>=o&&a&&typeof e.complete==="function"){u=true;e.complete(s)}};for(n=0;n<t.length;n+=1){i=new Image;s.push(i);i.onload=i.onabort=i.onerror=f;i.src=t[n]}if(typeof e.initiated==="function"){e.initiated(s)}}function p(e,t){var n=(t||e).width;var r=(t||e).height;if(n*r<=1024*1024){return false}var i;i=document.createElement("canvas");if(!i||!i.getContext){return false}var s=i.getContext("2d");if(!s){return false}i.width=i.height=1;s.fillStyle="#FF00FF";s.fillRect(0,0,1,1);s.drawImage(e,-n+1,0);try{var o=s.getImageData(0,0,1,1).data;return o[0]===255&&o[1]===0&&o[2]===255}catch(u){f(u.message,u.stack);return false}}function d(e){var t=new Image;t.src=e.src;return{width:t.width,height:t.height}}var t="spritespin";var n=["mousedown","mousemove","mouseup","mouseenter","mouseover","mouseleave","dblclick","touchstart","touchmove","touchend","touchcancel","selectstart","gesturestart","gesturechange","gestureend"];var r=["dragstart"];var i={};window.SpriteSpin=i;i.namespace=t;i.mods={};i.defaults={source:undefined,width:undefined,height:undefined,frames:undefined,framesX:undefined,lanes:1,module:"360",behavior:"drag",renderer:"canvas",lane:0,frame:0,frameTime:40,animate:true,reverse:false,loop:true,stopFrame:0,wrap:true,wrapLane:false,sense:1,senseLane:undefined,orientation:"horizontal",detectSubsampling:true,scrollThreshold:50,preloadCount:undefined,onInit:undefined,onProgress:undefined,onLoad:undefined,onFrame:undefined,onDraw:undefined};i.clamp=o;i.wrap=u;i.sourceArray=function(e,t){var n=0,r=0,i=0,o=0,u=t.digits||2;if(t.frame){n=t.frame[0];r=t.frame[1]}if(t.lane){i=t.lane[0];o=t.lane[1]}var a,f,l,c=[];for(a=i;a<=o;a+=1){for(f=n;f<=r;f+=1){l=e.replace("{lane}",s(a,u,0));l=l.replace("{frame}",s(f,u,0));c.push(l)}}return c};i.measureSource=function(e){var t=e.images[0];var n=d(t);if(e.images.length===1){e.sourceWidth=n.width;e.sourceHeight=n.height;if(e.detectSubsampling&&p(t,n)){e.sourceWidth/=2;e.sourceHeight/=2}e.framesX=e.framesX||e.frames;if(!e.frameWidth||!e.frameHeight){if(e.framesX){e.frameWidth=Math.floor(e.sourceWidth/e.framesX);var r=Math.ceil(e.frames*e.lanes/e.framesX);e.frameHeight=Math.floor(e.sourceHeight/r)}else{e.frameWidth=n.width;e.frameHeight=n.height}}}else{e.sourceWidth=e.frameWidth=n.width;e.sourceHeight=e.frameHeight=n.height;if(p(t,n)){e.sourceWidth=e.frameWidth=n.width/2;e.sourceHeight=e.frameHeight=n.height/2}e.frames=e.frames||e.images.length}};i.resetInput=function(e){e.startX=e.startY=undefined;e.currentX=e.currentY=undefined;e.oldX=e.oldY=undefined;e.dX=e.dY=e.dW=0;e.ddX=e.ddY=e.ddW=0};i.updateInput=function(e,t){if(e.touches===undefined&&e.originalEvent!==undefined){e.touches=e.originalEvent.touches}t.oldX=t.currentX;t.oldY=t.currentY;if(e.touches!==undefined&&e.touches.length>0){t.currentX=e.touches[0].clientX||0;t.currentY=e.touches[0].clientY||0}else{t.currentX=e.clientX||0;t.currentY=e.clientY||0}if(t.oldX===undefined||t.oldY===undefined){t.oldX=t.currentX;t.oldY=t.currentY}if(t.startX===undefined||t.startY===undefined){t.startX=t.currentX;t.startY=t.currentY;t.clickframe=t.frame;t.clicklane=t.lane}t.dX=t.currentX-t.startX;t.dY=t.currentY-t.startY;t.ddX=t.currentX-t.oldX;t.ddY=t.currentY-t.oldY;t.ndX=t.dX/t.width;t.ndY=t.dY/t.height;t.nddX=t.ddX/t.width;t.nddY=t.ddY/t.height};i.updateFrame=function(e,t,n){if(t!==undefined){e.frame=Number(t)}else if(e.animation){e.frame+=e.reverse?-1:1}if(e.animation){e.frame=u(e.frame,0,e.frames-1,e.frames);if(!e.loop&&e.frame===e.stopFrame){i.stopAnimation(e)}}else if(e.wrap){e.frame=u(e.frame,0,e.frames-1,e.frames)}else{e.frame=o(e.frame,0,e.frames-1)}if(n!==undefined){e.lane=n;e.lane=o(e.lane,0,e.lanes-1)}e.target.trigger("onFrame",e);e.target.trigger("onDraw",e)};i.stopAnimation=function(e){e.animate=false;if(e.animation){window.clearInterval(e.animation);e.animation=null}};i.setAnimation=function(e){if(e.animate){i.requestFrame(e)}else{i.stopAnimation(e)}};i.requestFrame=function(e){if(e.animation){return}if(e.frameFunction===undefined){e.frameFunction=function(){try{i.updateFrame(e)}catch(t){}}}e.animation=window.setInterval(e.frameFunction,e.frameTime)};i.setModules=function(t){var n,r,s;for(n=0;n<t.mods.length;n+=1){r=t.mods[n];if(typeof r==="string"){s=i.mods[r];if(s){t.mods[n]=s}else{e.error("No module found with name "+r)}}}};i.setLayout=function(e){e.target.attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"});var t=Math.floor(e.width||e.frameWidth||e.target.innerWidth());var n=Math.floor(e.height||e.frameHeight||e.target.innerHeight());e.target.css({width:t,height:n,position:"relative",overflow:"hidden"});var r={width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"};e.stage.css(r).hide();if(e.canvas){e.canvas[0].width=t;e.canvas[0].height=n;e.canvas.css(r).hide()}};i.setEvents=function(e){var t,s,o,u=e.target;c(u);for(s=0;s<r.length;s+=1){l(u,r[s],a)}for(t=0;t<e.mods.length;t+=1){o=e.mods[t];for(s=0;s<n.length;s+=1){l(u,n[s],o[n[s]])}l(u,"onInit",o.onInit);l(u,"onProgress",o.onProgress);l(u,"onLoad",o.onLoad);l(u,"onFrame",o.onFrame);l(u,"onDraw",o.onDraw)}l(u,"onLoad",function(e,t){i.setAnimation(t)});l(u,"onInit",e.onInit);l(u,"onProgress",e.onProgress);l(u,"onLoad",e.onLoad);l(u,"onFrame",e.onFrame);l(u,"onDraw",e.onDraw)};i.boot=function(e){i.setModules(e);i.setLayout(e);i.setEvents(e);e.target.addClass("loading").trigger("onInit",e);e.loading=true;h({source:e.source,preloadCount:e.preloadCount,progress:function(t){e.target.trigger("onProgress",[t,e])},complete:function(t){e.images=t;e.loading=false;i.measureSource(e);e.stage.show();e.target.removeClass("loading").trigger("onLoad",e).trigger("onFrame",e).trigger("onDraw",e)}})};i.create=function(n){var r=n.target;var s=r.data(t);if(!s){s=e.extend({},i.defaults,n);s.source=s.source||[];r.find("img").each(function(){s.source.push(e(this).attr("src"))});r.empty().addClass("spritespin-instance").append("<div class='spritespin-stage'></div>");if(s.renderer==="canvas"){var o=e("<canvas class='spritespin-canvas'></canvas>")[0];if(!!(o.getContext&&o.getContext("2d"))){s.canvas=e(o);s.context=o.getContext("2d");r.append(s.canvas);r.addClass("with-canvas")}else{s.renderer="image"}}s.target=r;s.stage=r.find(".spritespin-stage");r.data(t,s)}else{e.extend(s,n)}if(typeof s.source==="string"){s.source=[s.source]}if(s.mods){delete s.behavior;delete s.module}if(s.behavior||s.module){s.mods=[];if(s.behavior){s.mods.push(s.behavior)}if(s.module){s.mods.push(s.module)}delete s.behavior;delete s.module}i.boot(s)};i.destroy=function(e){if(e){i.stopAnimation(e);c(e.target);e.target.removeData(t)}};i.registerModule=function(t,n){if(i.mods[t]){e.error("Module name is already taken: "+t)}n=n||{};i.mods[t]=n;return n};i.Api=function(e){this.data=e};i.extendApi=function(t){var n,r=i.Api.prototype;for(n in t){if(t.hasOwnProperty(n)){if(r[n]){e.error("API method is already defined: "+n)}else{r[n]=t[n]}}}return r};e.fn.spritespin=function(n,r){if(n==="data"){return this.data(t)}if(n==="api"){var s=this.data(t);s.api=s.api||new i.Api(s);return s.api}if(n==="destroy"){return e(this).each(function(){i.destroy(e(this).data(t))})}if(arguments.length===2&&typeof n==="string"){var o={};o[n]=r;n=o}if(typeof n==="object"){n.target=n.target||e(this);i.create(n);return n.target}return e.error("Invalid call to spritespin")}})(window.jQuery||window.Zepto||window.$);(function(e){"use strict";var t=window.SpriteSpin;t.extendApi({isPlaying:function(){return this.data.animation!==null},isLooping:function(){return this.data.loop},toggleAnimation:function(){this.data.animate=!this.data.animate;t.setAnimation(this.data)},stopAnimation:function(){this.data.animate=false;t.setAnimation(this.data)},startAnimation:function(){this.data.animate=true;t.setAnimation(this.data)},loop:function(e){this.data.loop=e;t.setAnimation(this.data);return this},currentFrame:function(){return this.data.frame},updateFrame:function(e){t.updateFrame(this.data,e);return this},skipFrames:function(e){var n=this.data;t.updateFrame(n,n.frame+(n.reverse?-e:+e));return this},nextFrame:function(){return this.skipFrames(1)},prevFrame:function(){return this.skipFrames(-1)},playTo:function(e,n){var r=this.data;n=n||{};if(!n.force&&r.frame===e){return}if(n.nearest){var i=e-r.frame;var s=e>r.frame?i-r.frames:i+r.frames;var o=Math.abs(i)<Math.abs(s)?i:s;r.reverse=o<0}r.animate=true;r.loop=false;r.stopFrame=e;t.setAnimation(r);return this}})})(window.jQuery||window.Zepto||window.$);(function(e,t){"use strict";function n(n){var r=e(this),i=r.data("spritespin");t.updateInput(n,i);var s,o;if(i.orientation==="horizontal"){s=i.target.innerWidth()/2;o=i.currentX-i.target.offset().left}else{s=i.target.innerHeight()/2;o=i.currentY-i.target.offset().top}if(o>s){r.spritespin("next")}else{r.spritespin("prev")}}t.registerModule("click",{mouseup:n,touchend:n})})(window.jQuery||window.Zepto||window.$,window.SpriteSpin);(function(e,t){"use strict";function n(n){var r=e(this).spritespin("data");if(r.loading||r.dragging||!r.stage.is(":visible")){return}r.dragFrame=r.frame||0;r.dragLane=r.lane||0;t.updateInput(n,r);r.dragging=true}function r(n){var r=e(this),i=r.spritespin("data");i.dragging=false;if(i.stage.is(":visible")){t.resetInput(i)}}function i(n){var r,i,s=e(this),o=s.spritespin("data");if(!o.dragging){return}t.updateInput(n,o);if(Math.abs(o.ddX)+Math.abs(o.ddY)>o.scrollThreshold){o.dragging=false;t.resetInput(o);return}n.preventDefault();var u=0;if(typeof o.orientation==="number"){u=(Number(o.orientation)||0)*Math.PI/180}else if(o.orientation==="horizontal"){u=0}else{u=Math.PI/2}var a=Math.sin(u);var f=Math.cos(u);var l=(o.nddX*f-o.nddY*a)*o.sense||0;var c=(o.nddX*a+o.nddY*f)*(o.senseLane||o.sense)||0;o.dragFrame+=o.frames*l;o.dragLane+=o.lanes*c;if(!o.wrap){o.dragFrame=Math.min(o.dragFrame,o.frames);o.dragFrame=Math.max(o.dragFrame,0)}if(!o.wrapLane){o.dragLane=Math.min(o.dragLane,o.lanes);o.dragLane=Math.max(o.dragLane,0)}i=Math.floor(o.dragFrame);r=Math.floor(o.dragLane);t.updateFrame(o,i,r);t.stopAnimation(o)}t.registerModule("drag",{mousedown:n,mousemove:i,mouseup:r,mouseleave:r,touchstart:n,touchmove:i,touchend:r,touchcancel:r});t.registerModule("move",{mousemove:function(e){n.call(this,e);i.call(this,e)},mouseleave:r,touchstart:n,touchmove:i,touchend:r,touchcancel:r})})(window.jQuery||window.Zepto||window.$,window.SpriteSpin);(function(e,t){"use strict";function n(n){var r=e(this),i=r.spritespin("data");if(i.loading){return}t.updateInput(n,i);i.dragging=true;r.spritespin("api").startAnimation()}function r(n){var r=e(this),i=r.spritespin("data");t.resetInput(i);i.dragging=false;r.spritespin("api").stopAnimation()}function i(n){var r=e(this),i=r.spritespin("data");if(i.dragging){t.updateInput(n,i);var s,o;if(i.orientation==="horizontal"){s=i.target.innerWidth()/2;o=(i.currentX-i.target.offset().left-s)/s}else{s=i.height/2;o=(i.currentY-i.target.offset().top-s)/s}i.reverse=o<0;o=o<0?-o:o;i.frameTime=80*(1-o)+20;if(i.orientation==="horizontal"&&i.dX<i.dY||i.orientation==="vertical"&&i.dX<i.dY){n.preventDefault()}}}t.registerModule("hold",{mousedown:n,mousemove:i,mouseup:r,mouseleave:r,touchstart:n,touchmove:i,touchend:r,touchcancel:r,onFrame:function(){e(this).spritespin("api").startAnimation()}})})(window.jQuery||window.Zepto||window.$,window.SpriteSpin);(function(e,t){"use strict";function n(n){var r=e(this).spritespin("data");if(r.loading){return}t.updateInput(n,r);r.dragging=true}function r(){var n=e(this).spritespin("data");n.dragging=false;t.resetInput(n)}function i(n){var r=e(this),i=r.spritespin("data");if(i.dragging){t.updateInput(n,i);var s=i.frame;var o=i.snap||.25;var u,a;if(i.orientation==="horizontal"){u=i.dX;a=i.target.innerWidth()*o}else{u=i.dY;a=i.target.innerHeight()*o}if(u>a){s=i.frame-1;i.dragging=false}else if(u<-a){s=i.frame+1;i.dragging=false}r.spritespin("update",s);r.spritespin("animate",false);if(i.orientation==="horizontal"&&i.dX<i.dY||i.orientation==="vertical"&&i.dX<i.dY){n.preventDefault()}}}t.registerModule("swipe",{mousedown:n,mousemove:i,mouseup:r,mouseleave:r,touchstart:n,touchmove:i,touchend:r,touchcancel:r})})(window.jQuery||window.Zepto||window.$,window.SpriteSpin);(function(e,t){"use strict";function r(t){var r=t.lane*t.frames+t.frame;var i=t.frameWidth*(r%t.framesX);var s=t.frameHeight*n(r/t.framesX);if(t.renderer==="canvas"){t.context.clearRect(0,0,t.width,t.height);t.context.drawImage(t.images[0],i,s,t.frameWidth,t.frameHeight,0,0,t.width,t.height);return}i=-n(i*t.scaleWidth);s=-n(s*t.scaleHeight);if(t.renderer==="background"){t.stage.css({"background-image":["url('",t.source[0],"')"].join(""),"background-position":[i,"px ",s,"px"].join("")})}else{e(t.images).css({top:s,left:i})}}function i(t){var n=t.lane*t.frames+t.frame;var r=t.images[n];if(t.renderer==="canvas"){if(r){t.context.clearRect(0,0,t.width,t.height);t.context.drawImage(t.images[n],0,0,t.width,t.height)}}else if(t.renderer==="background"){t.stage.css({"background-image":["url('",t.source[n],"')"].join(""),"background-position":[0,"px ",0,"px"].join("")})}else{e(t.images).hide();e(t.images[n]).show()}}var n=Math.floor;t.registerModule("360",{onLoad:function(t,r){var i,s;r.scaleWidth=r.width/r.frameWidth;r.scaleHeight=r.height/r.frameHeight;r.sourceIsSprite=r.images.length===1;r.stage.empty().css({"background-image":"none"}).show();if(r.renderer==="canvas"){r.context.clearRect(0,0,r.width,r.height);r.canvas.show()}else if(r.renderer==="background"){if(r.sourceIsSprite){i=n(r.sourceWidth*r.scaleWidth);s=n(r.sourceHeight*r.scaleHeight)}else{i=n(r.frameWidth*r.scaleWidth);s=n(r.frameHeight*r.scaleHeight)}var o=[i,"px ",s,"px"].join("");r.stage.css({"background-repeat":"no-repeat","-webkit-background-size":o,"-moz-background-size":o,"-o-background-size":o,"background-size":o})}else if(r.renderer==="image"){if(r.sourceIsSprite){i=n(r.sourceWidth*r.scaleWidth);s=n(r.sourceHeight*r.scaleHeight)}else{i=s="100%"}e(r.images).appendTo(r.stage).css({width:i,height:s,position:"absolute"})}},onDraw:function(e,t){if(t.sourceIsSprite){r(t)}else{i(t)}}})})(window.jQuery||window.Zepto||window.$,window.SpriteSpin);(function(e){"use strict";var t=window.SpriteSpin.mods.gallery={};t.onLoad=function(t,n){n.images=[];n.offsets=[];n.stage.empty();n.speed=500;n.opacity=.25;n.oldFrame=0;var r=0,i;for(i=0;i<n.source.length;i+=1){var s=e("<img src='"+n.source[i]+"'/>");n.stage.append(s);n.images.push(s);n.offsets.push(-r+(n.width-s[0].width)/2);r+=s[0].width;s.css({opacity:.25})}n.stage.css({width:r});n.images[n.oldFrame].animate({opacity:1},n.speed)};t.onDraw=function(e,t){if(t.oldFrame!==t.frame&&t.offsets){t.stage.stop(true,false);t.stage.animate({left:t.offsets[t.frame]},t.speed);t.images[t.oldFrame].animate({opacity:t.opacity},t.speed);t.oldFrame=t.frame;t.images[t.oldFrame].animate({opacity:1},t.speed)}else{t.stage.css({left:t.offsets[t.frame]+t.dX})}};t.resetInput=function(e,t){if(!t.onDrag){t.stage.animate({left:t.offsets[t.frame]})}}})(window.jQuery||window.Zepto||window.$);(function(e,t){"use strict";var n=Math.floor;t.registerModule("panorama",{onLoad:function(e,t){t.stage.empty().show();t.frames=t.sourceWidth;if(t.orientation==="horizontal"){t.scale=t.height/t.sourceHeight;t.frames=t.sourceWidth}else{t.scale=t.width/t.sourceWidth;t.frames=t.sourceHeight}var r=n(t.sourceWidth*t.scale);var i=n(t.sourceHeight*t.scale);var s=[r,"px ",i,"px"].join("");t.stage.css({"background-image":["url('",t.source[0],"')"].join(""),"background-repeat":"repeat-both","-webkit-background-size":s,"-moz-background-size":s,"-o-background-size":s,"background-size":s})},onDraw:function(e,t){var r=0,i=0;if(t.orientation==="horizontal"){r=-n(t.frame%t.frames*t.scale)}else{i=-n(t.frame%t.frames*t.scale)}t.stage.css({"background-position":[r,"px ",i,"px"].join("")})}})})(window.jQuery||window.Zepto||window.$,window.SpriteSpin);(function(e,t){"use strict";function n(e,n){e.preventDefault();n.dragging=false;if(!e.touches&&e.originalEvent){e.touches=e.originalEvent.touches}var r,i;if(e.touches&&e.touches.length){r=e.touches[0].clientX||0;i=e.touches[0].clientY||0}else{r=e.clientX||0;i=e.clientY||0}n.zoomX=r/n.width;n.zoomY=i/n.height;n.zoomX=n.zoomX>1?1:n.zoomX<0?0:n.zoomX;n.zoomY=n.zoomY>1?1:n.zoomY<0?0:n.zoomY;t.updateFrame(n)}function r(t){t.preventDefault();var r=e(this).spritespin("data");var i=(new Date).getTime();if(!r.zoomClickTime){r.zoomClickTime=i;return}var s=i-r.zoomClickTime;if(s>500){r.zoomClickTime=i;return}r.zoomClickTime=0;if(e(this).spritespin("api").toggleZoom()){n(t,r)}}function i(t){var r=e(this).spritespin("data");if(!r.zoomStage.is(":visible")){return}n(t,r)}t.registerModule("zoom",{mousedown:r,touchstart:r,mousemove:i,touchmove:i,onInit:function(t,n){if(!n.zoomStage){n.zoomStage=e("<div class='spritezoom-stage'></div>").css({width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"}).appendTo(n.target).hide()}},onDraw:function(e,t){var n=t.lane*t.frames+t.frame;var r=t.source[n];if(t.zoomSource){r=t.zoomSource[n]}if(!r){return}var i=t.zoomX;var s=t.zoomY;if(i==null||s==null){i=t.zoomX=.5;s=t.zoomY=.5}t.zoomStage.css({"background-repeat":"no-repeat","background-image":["url('",r,"')"].join(""),"background-position":[i*100|0,"% ",s*100|0,"%"].join("")})}});t.extendApi({toggleZoom:function(){var t=this.data;if(!t.zoomStage){e.error("zoom module is not initialized or is not available.");return false}if(t.zoomStage.is(":visible")){t.zoomStage.fadeOut();t.stage.fadeIn()}else{t.zoomStage.fadeIn();t.stage.fadeOut();return true}return false}})})(window.jQuery||window.Zepto||window.$,window.SpriteSpin);


/* Inview */
(function(e){"use strict";function t(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function n(){var t=window.innerHeight;if(t){return t}var n=document.compatMode;if(n||!e.support.boxModel){t=n==="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight}return t}function r(e){var t=0;for(var n=e;n;n=n.offsetParent){t+=n.offsetTop}return t}function i(){var i=t(),s=i+n(),o=[];e.each(e.cache,function(){if(this.events&&this.events.inview){o.push(this.handle.elem)}});e(o).each(function(){var t=e(this),n=r(this),o=t.height(),u=n+o,a=t.data("inview")||false,f=t.data("offset")||0,l=n>i&&u<s,c=u+f>i&&n<i,h=n-f<s&&u>s,p=l||c||h||n<i&&u>s;if(p){var d=h?"top":c?"bottom":"both";if(!a||a!==d){t.data("inview",d);t.trigger("inview",[true,d])}}else if(!l&&a){t.data("inview",false);t.trigger("inview",[false])}})}function s(e,t){function i(){if(r!==null){n=true;return}n=false;e();r=setTimeout(function(){r=null;if(n){i()}},t)}var n=false;var r=null;return i}var o=s(i,100);e(window).on("checkInView.inview click.inview ready.inview scroll.inview resize.inview",o)})(jQuery);


/* imagesLoaded 3.1.1 */
(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===f.call(e)}function i(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var i=0,r=e.length;r>i;i++)t.push(e[i]);else t.push(e);return t}function r(e,n){function r(e,n,s){if(!(this instanceof r))return new r(e,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=t({},this.options),"function"==typeof n?s=n:t(this.options,n),s&&this.on("always",s),this.getImages(),o&&(this.jqDeferred=new o.Deferred);var c=this;setTimeout(function(){c.check()})}function f(e){this.img=e}function a(e){this.src=e,h[e]=this}r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var i=n.querySelectorAll("img"),r=0,o=i.length;o>r;r++){var s=i[r];this.addImage(s)}}},r.prototype.addImage=function(e){var t=new f(e);this.images.push(t)},r.prototype.check=function(){function e(e,r){return t.options.debug&&c&&s.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},r.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify(t,e)})},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},o&&(o.fn.imagesLoaded=function(e,t){var n=new r(this,e,t);return n.jqDeferred.promise(o(this))}),f.prototype=new e,f.prototype.check=function(){var e=h[this.img.src]||new a(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},f.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var h={};return a.prototype=new e,a.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},a.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},a.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},a.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},r}var o=e.jQuery,s=e.console,c=s!==void 0,f=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],r):e.imagesLoaded=r(e.EventEmitter,e.eventie)}(window);


/* Waterfall */
//(function(e){"use strict";function r(e){if(!e)e="transform";var t=document.defaultView.getComputedStyle(document.body,"");if(t[e])return"";if(t["-webkit-"+e])return"-webkit-";if(t["-moz-"+e])return"-moz-";if(t["-o-"+e])return"-o-";if(t["-khtml-"+e])return"-khtml-";return false}var t=r();var n=function(t,n){this.$el=e(t);this.el=t[0];this._create(n)};n.defaultClass="waterfall";e.extend(n.prototype,{options:{colMinWidth:300,defaultContainerWidth:window.clientWidth,autoresize:true,maxCols:16,updateDelay:45,useCalc:undefined,useTranslate3d:undefined,animateShow:false,reflow:null},_create:function(n){var r=this,i=r.options=e.extend({},r.options,n);this.items=[];r.lastHeights=[];r.lastItems=[];r.colPriority=[];r.baseOrder=[];var s=getComputedStyle(r.el);r.el.hidden=true;r.el.style.minHeight=s.height;if(r.$el.css("position")==="static")r.el.style.position="relative";if(i.useCalc===undefined){this.prefixedCalc=function(){var e=document.createElement("div"),n=["calc","-webkit-calc","-moz-calc","-o-calc"];for(var r=0;r<n.length;++r){var i=n[r],s=i+"(1px)";e.style.cssText=t+"transform: translate3d("+[s,s,s].join(",")+");";if(e.style.length&&e.style[t+"transform"].length>14){return i}}}();i.useCalc=!!this.prefixedCalc}if(i.useTranslate3d===undefined){this.prefixedTranslate3d=function(){var e=document.createElement("div");var n=["translate3d","-webkit-translate3d","-moz-translate3d","-o-translate3d"];for(var r=0;r<n.length;++r){var i=n[r];e.style.cssText=t+"transform:"+i+"(1px, 0, 0);";if(e.style.length)return i}}();i.useTranslate3d=!!this.prefixedTranslate3d}var o;{o=r.$el.children()}for(var u=0;u<r.el.childNodes.length;){if(r.el.childNodes[u].nodeType!==1&&r.el.childNodes[u].nodeType!==8){r.el.removeChild(r.el.childNodes[u])}else u++}o.each(function(e,t){r._addItem(t);r._initItem(t)});r.lastItem=r.items[r.items.length-1];r.el.removeAttribute("hidden");r._update();if(i.autoresize){e(window).resize(r.reflow.bind(r))}this._observeMutations()},_addItem:function(e){if(e.getAttribute("data-exclude"))return;this.items.push(e)},_observeMutations:function(){if(window.MutationObserver){this.observer=new MutationObserver(function(e){var t=e.length;for(var n=0;n<t;n++){if(e[n].removedNodes.length){this._removedItems(Array.prototype.slice.apply(e[n].removedNodes))}if(e[n].addedNodes.length){var r=Array.prototype.slice.apply(e[n].addedNodes);if(e[n].nextSibling){this._insertedItems(r)}else{this._appendedItems(r)}}}}.bind(this));this.observer.observe(this.el,{attributes:false,childList:true,characterData:false})}else{this.$el.on("DOMNodeInserted",function(e){var t=e.originalEvent||e,n=t.target;if(n.nodeType!==1&&n.nodeType!==8)return;if(n.parentNode!==this.el)return;if(n.previousSibling&&n.previousSibling.span&&(!n.nextSibling||!n.nextSibling.span)){this._appendedItems([n])}else{this._insertedItems([n])}}.bind(this)).on("DOMNodeRemoved",function(e){var t=(e.originalEvent||e).target;if(t.nodeType!==1&&t.nodeType!==8)return;if(t.parentNode!==this.el)return;this._removedItems([t])}.bind(this))}},reflow:function(){var e=this,t=e.options;window.clearTimeout(e._updateInterval);e._updateInterval=window.setTimeout(e._update.bind(e),t.updateDelay);return e},_appendedItems:function(e){var t=e.length,n=0;for(;n<t;n++){var r=e[n];if(r.nodeType!==1)continue;this._addItem(r);this._initItem(r);this._setItemWidth(r)}for(n=0;n<t;n++){if(e[n].nodeType!==1)continue;this._placeItem(e[n])}this.lastItem=this.items[this.items.length-1];this._maximizeHeight()},_insertedItems:function(e){this.items.length=0;var t=e.length;for(var n=0;n<t;n++){var r=e[n];if(r.nodeType!==1&&r.nodeType!==8)continue;this._initItem(r);this._setItemWidth(r)}var i=this.el.childNodes,s=i.length;for(var n=0;n<s;n++){if(i[n].nodeType!==1&&r.nodeType!==8)continue;if(!i[n].span)continue;this._addItem(i[n])}this.lastItem=this.items[this.items.length-1];this.reflow()},_removedItems:function(e){var t=this.el.childNodes,n=t.length;for(var r=0;r<e.length;r++){this.items.splice(this.items.indexOf(e[r]),1)}this.lastItem=this.items[this.items.length-1];this.reflow()},_trigger:function(e,t){try{if(this.options[e])this.options[e].call(this.$el,t);this.$el.trigger(e,[t])}catch(n){throw n}},_initItem:function(e){var t=this.options,n=e.getAttribute("data-span")||1,r=e.getAttribute("data-float")||e.getAttribute("data-column");n=n==="all"?t.maxCols:Math.max(0,Math.min(~~n,t.maxCols));e.span=n;var i=getComputedStyle(e);e.mr=~~i.marginRight.slice(0,-2);e.ml=~~i.marginLeft.slice(0,-2);e.bt=~~i.borderTopWidth.slice(0,-2);e.bb=~~i.borderBottomWidth.slice(0,-2);e.mt=~~i.marginTop.slice(0,-2);e.mb=~~i.marginBottom.slice(0,-2);e.style.position="absolute";switch(r){case null:e.floatCol=null;break;case"right":case"last":e.floatCol=-n;break;case"left":case"first":e.floatCol=0;break;default:e.floatCol=~~r-1;break}if(t.animateShow){if(t.useTranslate3d){}else{e.style.top=this.lastHeights[this.colPriority[this.colPriority.length-1]]+"px";e.style.left=this.colWidth*this.colPriority[this.colPriority.length-1]+"px"}e.removeAttribute("hidden")}},_initLayoutParams:function(){var e=this,t=e.options,n=window.getComputedStyle(e.el),r=0,i=e.lastItems.length;e.pl=~~n.paddingLeft.slice(0,-2);e.pt=~~n.paddingTop.slice(0,-2);e.pr=~~n.paddingRight.slice(0,-2);e.pb=~~n.paddingBottom.slice(0,-2);e.lastHeights.length=0;e.colPriority.length=0;e.baseOrder.length=0;e.colWidth=e.el.offsetWidth-e.pl-e.pr;e.lastItems.length=~~(e.colWidth/t.colMinWidth)||1;var s=t.useTranslate3d?0:e.pt;for(r=0;r<e.lastItems.length;r++){e.lastHeights.push(s);e.baseOrder.push(r);e.colPriority.push(r)}e.colWidth/=e.lastItems.length;if(!t.useCalc||i!==e.lastItems.length){for(r=e.items.length;r--;){this._setItemWidth(e.items[r])}}return e.lastItems.length},_updateInterval:0,_update:function(e,t){var n=this,r=0,i=e||0,s=t||n.items.length,o=n._initLayoutParams();for(r=i;r<s;r++){n._placeItem(n.items[r])}n._maximizeHeight();n._trigger("reflow")},_setItemWidth:function(e){var t=e.span>this.lastItems.length?this.lastItems.length:e.span,n=this.lastItems.length,r=t/n;if(this.options.useCalc){e.w=100*r;e.style.width=this.prefixedCalc+"("+100*r+"% - "+(e.mr+e.ml+(this.pl+this.pr)*r)+"px)"}else{e.w=~~(this.colWidth*t-(e.ml+e.mr));e.style.width=e.w+"px"}},_placeItem:function(e){var n=this,r=n.options;var i=n.lastHeights,s=n.lastItems,o=n.colPriority,u=0,a=0,f=0,l=0,c=0,h=0,p=0,d=e.span>s.length?s.length:e.span,v=0,m=[],g=[],y,b=e.floatCol;if(b){b=b>0?Math.min(b,s.length-d):s.length+b}if(d===1){if(b===null){u=o.shift()}else{u=b;for(l=0;l<o.length;l++){if(o[l]==u){o.splice(l,1);break}}}m.push(u);a=i[u]}else if(d>=s.length){u=0;a=i[o[o.length-1]];m=n.baseOrder.slice();m.length=i.length;o.length=0}else{if(b!==null){u=b;a=Math.max.apply(Math,i.slice(u,u+d))}else{g.length=0;a=Infinity;u=0;for(l=0;l<=s.length-d;l++){g[l]=Math.max.apply(Math,i.slice(l,l+d));if(g[l]<a){u=l;a=g[l]}}}for(l=0;l<o.length;){if(o[l]>=u&&o[l]<u+d){m.push(o.splice(l,1)[0])}else l++}}e.top=~~a;if(r.useTranslate3d){var w=100*u/d+"% + "+~~((e.ml+e.mr)*u/d)+"px";if(r.useCalc){e.style[t+"transform"]=this.prefixedTranslate3d+"( "+this.prefixedCalc+"("+w+"), "+e.top+"px, 0)"}else{e.style[t+"transform"]=this.prefixedTranslate3d+"("+~~(n.colWidth*u)+"px, "+e.top+"px, 0)"}}else{e.style.top=e.top+"px";e.style.left=n.colWidth*u+n.pl+"px"}e.removeAttribute("hidden");v=n._getBottom(e);for(c=0;c<m.length;c++){s[m[c]]=e;n.lastHeights[m[c]]=v}for(l=o.length;l--;){f=n.lastHeights[o[l]];if(v>=f){Array.prototype.splice.apply(o,[l+1,0].concat(m));break}}if(o.length<i.length){Array.prototype.unshift.apply(o,m)}},_getBottom:function(e){if(!e)return 0;return e.top+e.offsetHeight+e.bt+e.bb+e.mb+e.mt},_maximizeHeight:function(){var e=this.options.useTranslate3d?this.pt:0;this.el.style.minHeight=this.lastHeights[this.colPriority[this.colPriority.length-1]]+this.pb+e+"px"}});e.fn.waterfall=function(t,r){if(typeof t=="string"){return e(this).each(function(n,i){e(i).data("waterfall")[t](r)})}else{if(!this.length){throw new Error("No element passed to waterfall");return false}var i=e(this),s=e.extend({},{colMinWidth:~~i[0].getAttribute("data-col-min-width")||~~i[0].getAttribute("data-width")},t);if(s.width&&!s.colMinWidth){s.colMinWidth=s.width}var o=new n(i,s);if(!i.data("waterfall"))i.data("waterfall",o);return o}};e(function(){var t=window.waterfall&&window.waterfall.defaultClass||n.defaultClass;e("."+t).each(function(t,n){var r=e(n),i=window.waterfall||{};r.waterfall(i)})})})(window.jQuery||window.Zepto);